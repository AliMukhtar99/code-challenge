{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/ali/Development/code/phase-2/code-challenge/src/components/AccountContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport TransactionsList from \"./TransactionsList\";\nimport Search from \"./Search\";\nimport AddTransactionForm from \"./AddTransactionForm\";\n\nfunction AccountContainer() {\n  _s();\n\n  //set state to an empty string\n  //allows to clear the values from the input field once data is submitted\n  //creare a function to fetch transactions from the local json server [fetch(url)\n  const [transactions, setTransactions] = useState([]);\n\n  function fetchTransactions() {\n    fetch(\"http://localhost:8001/transactions\").then(response => response.json()).then(setTransactions);\n  } //run useEffect to call fetch data\n\n\n  useEffect(fetchTransactions, []); //const handleSearch = () => {\n  //function to handle data searched in order to get the service we requre\n  //add a variable to allow transaction to be filtered using lowerer case\n\n  function handleSearch(search) {\n    if (search === \"\") {\n      fetchTransactions(transactions);\n    } else {\n      const searchTransactions = transactions.filter(transaction => {\n        return transaction.description.toLowerCase().includes(search.toLowerCase());\n      });\n      setTransactions(searchTransactions);\n    }\n  } //Extra deliverable to allow users to delete transactions using handler\n\n\n  function deleteRecord(id) {\n    const updateTransactions = transactions.filter(transaction => {\n      return transaction.id !== id;\n    });\n    setTransactions(updateTransactions);\n  }\n\n  function handleAddTransaction(transaction) {\n    setTransactions([...transactions, transaction]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      handleSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddTransactionForm, {\n      handleAddTransaction: handleAddTransaction\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TransactionsList, {\n      transactions: transactions,\n      deleteRecord: deleteRecord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AccountContainer, \"tSC852gg/pAfbHr6jYEePbawnUU=\");\n\n_c = AccountContainer;\nexport default AccountContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountContainer\");","map":{"version":3,"sources":["/home/ali/Development/code/phase-2/code-challenge/src/components/AccountContainer.js"],"names":["React","useState","useEffect","TransactionsList","Search","AddTransactionForm","AccountContainer","transactions","setTransactions","fetchTransactions","fetch","then","response","json","handleSearch","search","searchTransactions","filter","transaction","description","toLowerCase","includes","deleteRecord","id","updateTransactions","handleAddTransaction"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;;AAEA,SAASC,gBAAT,GAA4B;AAAA;;AAC1B;AACA;AACA;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,EAAD,CAAhD;;AACA,WAASQ,iBAAT,GAA6B;AAC3BC,IAAAA,KAAK,CAAC,oCAAD,CAAL,CACGC,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAEQH,eAFR;AAGD,GATyB,CAU1B;;;AACAN,EAAAA,SAAS,CAACO,iBAAD,EAAoB,EAApB,CAAT,CAX0B,CAa1B;AACA;AACA;;AACA,WAASK,YAAT,CAAsBC,MAAtB,EAA8B;AAC5B,QAAIA,MAAM,KAAK,EAAf,EAAmB;AACjBN,MAAAA,iBAAiB,CAACF,YAAD,CAAjB;AACD,KAFD,MAEO;AACL,YAAMS,kBAAkB,GAAGT,YAAY,CAACU,MAAb,CAAqBC,WAAD,IAAiB;AAC9D,eAAOA,WAAW,CAACC,WAAZ,CACJC,WADI,GAEJC,QAFI,CAEKN,MAAM,CAACK,WAAP,EAFL,CAAP;AAGD,OAJ0B,CAA3B;AAKAZ,MAAAA,eAAe,CAACQ,kBAAD,CAAf;AACD;AACF,GA3ByB,CA4B1B;;;AAEA,WAASM,YAAT,CAAsBC,EAAtB,EAA0B;AACxB,UAAMC,kBAAkB,GAAGjB,YAAY,CAACU,MAAb,CAAqBC,WAAD,IAAiB;AAC9D,aAAOA,WAAW,CAACK,EAAZ,KAAmBA,EAA1B;AACD,KAF0B,CAA3B;AAGAf,IAAAA,eAAe,CAACgB,kBAAD,CAAf;AACD;;AAED,WAASC,oBAAT,CAA8BP,WAA9B,EAA2C;AACzCV,IAAAA,eAAe,CAAC,CAAC,GAAGD,YAAJ,EAAkBW,WAAlB,CAAD,CAAf;AACD;;AAED,sBACE;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,YAAY,EAAEJ;AAAtB;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,kBAAD;AAAoB,MAAA,oBAAoB,EAAEW;AAA1C;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,gBAAD;AACE,MAAA,YAAY,EAAElB,YADhB;AAEE,MAAA,YAAY,EAAEe;AAFhB;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD;;GAnDQhB,gB;;KAAAA,gB;AAoDT,eAAeA,gBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport TransactionsList from \"./TransactionsList\";\nimport Search from \"./Search\";\nimport AddTransactionForm from \"./AddTransactionForm\";\n\nfunction AccountContainer() {\n  //set state to an empty string\n  //allows to clear the values from the input field once data is submitted\n  //creare a function to fetch transactions from the local json server [fetch(url)\n  const [transactions, setTransactions] = useState([]);\n  function fetchTransactions() {\n    fetch(\"http://localhost:8001/transactions\")\n      .then((response) => response.json())\n      .then(setTransactions);\n  }\n  //run useEffect to call fetch data\n  useEffect(fetchTransactions, []);\n\n  //const handleSearch = () => {\n  //function to handle data searched in order to get the service we requre\n  //add a variable to allow transaction to be filtered using lowerer case\n  function handleSearch(search) {\n    if (search === \"\") {\n      fetchTransactions(transactions);\n    } else {\n      const searchTransactions = transactions.filter((transaction) => {\n        return transaction.description\n          .toLowerCase()\n          .includes(search.toLowerCase());\n      });\n      setTransactions(searchTransactions);\n    }\n  }\n  //Extra deliverable to allow users to delete transactions using handler\n\n  function deleteRecord(id) {\n    const updateTransactions = transactions.filter((transaction) => {\n      return transaction.id !== id;\n    });\n    setTransactions(updateTransactions);\n  }\n\n  function handleAddTransaction(transaction) {\n    setTransactions([...transactions, transaction]);\n  }\n\n  return (\n    <div>\n      <Search handleSearch={handleSearch} />\n      <AddTransactionForm handleAddTransaction={handleAddTransaction} />\n      <TransactionsList\n        transactions={transactions}\n        deleteRecord={deleteRecord}\n      />\n    </div>\n  );\n}\nexport default AccountContainer;\n"]},"metadata":{},"sourceType":"module"}